
\documentclass[main.tex]{subfiles}
\begin{document}

\chapter{Analytic Solutions to One-zone Chemical Evolution Models}
\label{outflows:sec:gce-supplement}

In this appendix, we derive an expression for the oxygen abundance
$Z_\text{O} \equiv M_\text{O} / M_g$ as a function of time~$t$ since the onset
of star formation in a one-zone GCE model embedded within a Milky Way-like
disk with radial gas flows
(see discussion in~\S~\ref{outflows:sec:gce:onzeone}).
A generic linear ordinary differential equation (ODE) for~$\dot{Z}_\text{O}$
can be derived by differenting~$Z_x \equiv M_x / (\dot{M}_\star \tau_\star)$
with time and substituting in equation~\refp{outflows:eq:mdot-element-flow}:
\begin{equation}\begin{split}
\dot{Z}_\text{O} &= \frac{M_g \dot{M}_\text{O} - M_\text{O} \dot{M}_g}{M_g^2}
\\
&= \ycc{O} \tau_\star^{-1} - Z_\text{O} \tau_\star^{-1}
\left(1 + \eta - r - \mu_\flow + \tau_\star \left(
\frac{\ddot{M}_\star}{\dot{M}_\star}
\right)\right),
\label{outflows:eq:generic-linear-ode}
\end{split}\end{equation}
where we have retained the assumption of a constant~$\tau_\star$ from
\citet{Weinberg2017b} to substitute in~$\dot{M}_g = \ddot{M}_\star \tau_\star$.
A linear ODE of the form
\begin{equation}
\dot{y} + p(t) y = g(t)
\end{equation}
has the well-known solution of
\begin{equation}
y(t) = \exp\left(-\int p(t) dt\right)
\left(\int_0^t \exp\left(\int p(t') dt'\right) g(t') dt' + C\right),
\label{outflows:eq:linear-ode-formula}
\end{equation}
where~$C$ is a constant of integration that will be assigned to ensure that
the boundary condition of~$Z_\text{O}(t = 0) = 0$.
Here we have~$p(t) = \ddot{M}_\star / \dot{M}_\star + (1 + \eta - r -
\mu_\flow) / \tau_\star$ and $g(t) = \ycc{O} / \tau_\star$.
From here, one can choose an SFH and, as long as it is integrable when raised
to an exponential, compute its time derivative, plug it into~$p(t)$, and solve
for~$Z_\text{O}$.
In the case of the inside-out SFH
\begin{equation}
\dot{M}_\star \propto \left(1 - e^{-t / \timescale{rise}}\right)
e^{-t / \timescale{sfh}},
\end{equation}
this procedure results in
\begin{subequations}\begin{align}
\frac{\ddot{M}_\star}{\dot{M}_\star} &=
\frac{
	e^{-t / \timescale{rise}}
}{
	\timescale{rise}\left(
	1 - e^{-t / \timescale{rise}}
	\right)
} - \frac{1}{\timescale{sfh}}
\\
\int p(t) dt &= \ln\left(1 - e^{-t / \timescale{rise}}\right) +
\frac{t}{\tau_\psi},
\end{align}\end{subequations}
where we have substituted in the timescale~$\tau_\psi$ defined according to
equation~\refp{outflows:eq:tau-psi-def}.
Integration of equation~\refp{outflows:eq:linear-ode-formula} then yields
\begin{equation}
Z_\text{O}(t) = Z_\text{O,eq}
\frac{1}{1 - e^{-t / \timescale{rise}}} \left[
1 - e^{-t / \tau_\psi} -
\frac{\timescale{rise}}{\timescale{rise} - \tau_\psi}
\left(e^{-t / \timescale{rise}} - e^{-t / \tau_\psi}\right)
\right],
\end{equation}
where~$Z_\text{O,eq}$ is the same equilibrium abundance given by
equation~\refp{outflows:eq:z-o-eq}.
Setting the integration constant~$C = 0$ in this case provides the only
physical solution as both~$1 - e^{-t / \timescale{rise}}$ and the quantity in
square brackets in the above expression both approach zero as~$t \rightarrow 0$.
As a sanity check, we have evaluated the limit of~$Z_\text{O}$
as~$t \rightarrow 0$ and found that it indeed approaches~$0$.
This expression reduces to the case for a pure exponential by taking the limit
at~$\timescale{rise} \rightarrow 0$, and reduces once more to the solutions
presented in~\citet{Weinberg2017b} in the absence of a radial flow
(i.e.,~$v_R = 0$).

\end{document}

